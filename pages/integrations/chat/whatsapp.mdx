---
title: How to send WhatsApp notifications with Knock
description: Setup guide to show how to send notifications with WhatsApp and Knock
section: Integrations > Chat
layout: integrations
---

import Callout from "../../../components/Callout";
import { Attributes, Attribute } from "../../../components/Attributes";

Knock integrates with [WhatsApp](https://www.whatsapp.com/) to send notifications to your recipients.

## Features

- Per environment configuration
- Sandbox mode

## Getting started

Before you set up your WhatsApp Chat channel in Knock, you'll need to take the following steps in WhatsApp.

### 1. Create a Meta account

[Sign up](https://developers.facebook.com/) for a Meta account in case you haven't already.

### 2 Create a Meta App and add WhatsApp

[Create a Meta app](https://developers.facebook.com/docs/development/create-an-app/) in order to access to your panel apps.
After that from the App Dashboard click on the app you would like to connect to WhatsApp. Scroll down to find the "WhatsApp" product and click "Set up".

### 3 Send a test message

In case you want to send a test message, you can go to _WhatsApp/first steps_ and use the **temporary access token** and **phone number id** from that page.

<Callout
  emoji="ðŸ”¦"
  text={
    <>
      Keep in mind that to configure Knock, you are looking for your{" "}
      <strong>WhatsApp Access Token</strong> and your{" "}
      <strong>Phone Number Id</strong> (not your phone number). <br></br>
      <strong>Important</strong>: In order to start sending test messages you
      must send a hello word message (Step 2 on <em>WhatsApp/first steps</em> )
      and
      <strong> reply to that message</strong>, after that you will be able to receive
      test messages.
    </>
  }
/>

### 4 Add a valid business phone number

[Add a business phone number](https://developers.facebook.com/docs/whatsapp/cloud-api/get-started/add-a-phone-number)
to send messages from. You can do this using the _Add Phone Number_ button which places below
the current page.

### 5 Generate a never expires access token.

Because the testing access token only last 24hs, we need to create a token that can last forever:

1. Create an admin User. To do this you need to go to the [Business settings page](https://business.facebook.com/settings).
   You will see the [System users](https://business.facebook.com/settings) under the section of Users on the left sidebar.
   After you have created your new user click on _Add Asserts_ and choose _App>Select App Name>Full control option_ and save changes.

   ![Create user with full control](/images/integrations/chat/whatsapp-creation-user-1.jpg)

2. Click on _WhatsApp Account_ on the left sidebar and then select the WhatsApp business app and click the _Add people_ button.
   A popup will appear, choose the recently created system user and check the **full control option** and then click the Assing button.

   ![Add user to WhatsApp account](/images/integrations/chat/whatsapp-creation-user-2.jpg)

3. Now, go back again to the system users page and select the recently created system user from the list and then click the **Generate new token** button.
   Choose your app from the dropdown and make sure the **whatsapp_business_management** and **whatsapp_business_messaging** options are checked.

   ![Generate token](/images/integrations/chat/whatsapp-creation-user-3.jpg)

   ![Generate token](/images/integrations/chat/whatsapp-creation-user-4.jpg)

## Configuring WhatsApp in Knock

Now that you have a business phone number id and an access token, you're ready to configure your WhatsApp channel within Knock.

Here are a few other things to keep in mind once you have your WhatsApp channel configured in Knock:

- **Deliverability tracking.** We cannot currently track deliverability through WhatsApp channels. This means that all notifications sent through WhatsApp will show up as "Sent" in the Knock messages log, but not "Delivered".

## Provider configuration

<Attributes>
  <Attribute
    name="Authentication token "
    type="string*"
    description="The authentication token from your WhatsApp app"
  />
  <Attribute
    name="Phone Number ID "
    type="string*"
    description="The phone number ID associated with your business phone number"
  />
</Attributes>

## Recipient data requirements

In order to send a notification you'll need a valid `phone number` property set on your recipient.
