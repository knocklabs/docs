The top-level `Knock` class, used to interact with a client instance.

## Parameters

<Attributes>
  <Attribute
    name="apiKey"
    type="string*"
    description="The public API key for the Knock environment."
  />
  <Attribute
    name="options"
    type="KnockOptions"
    description="Additional options to pass through."
  />
</Attributes>

## Example

```javascript
import { Knock } from "@knocklabs/client";

const knock = new Knock(process.env.KNOCK_PUBLIC_API_KEY);
```

## Properties

### `userId`

Returns the user ID of the authenticated user.

**Returns**: `string`

### `feeds`

Returns a `FeedClient` instance that can be initialized to return a feed.

Optionally a feed can be initialized with a default set of `FeedClientOptions` which will be applied to all subsequent requests.

**Returns**: `Feed` instance

**Example**:

```javascript
import { Knock } from "@knocklabs/client";

const knock = new Knock(process.env.KNOCK_PUBLIC_API_KEY);
knock.authenticate({ id: user.id });

// knockFeed is now a `Feed` instance.
const knockFeed = knock.feeds.initialize(process.env.KNOCK_FEED_CHANNEL_ID, {
  archived: "exclude",
  page_size: 25,
});
```

### `user`

Returns a `UserClient` instance to interact with the users API for the current, authenticated user.

**Returns**: `UserClient` instance

**Example**:

```javascript
import { Knock } from "@knocklabs/client";

const knock = new Knock(process.env.KNOCK_PUBLIC_API_KEY);
knock.authenticate({ id: user.id });

const channelData = await knock.user.getChannelData({
  channelId: process.env.KNOCK_CHANNEL_ID,
});
```

### `preferences`

Returns a `Preferences` instance to interact with the preferences API for the current, authenticated user.

**Returns**: `Preferences` instance

**Example**:

```javascript
import { Knock } from "@knocklabs/client";

const knock = new Knock(process.env.KNOCK_PUBLIC_API_KEY);
knock.authenticate({ id: user.id });

// Returns a `Preferences` instance that can be invoked.
await knock.preferences.getAll();
```

### `client`

Returns an instance of an authenticated `ApiClient` that can be used to make HTTP and Websocket requests to Knock.

**Returns**: `ApiClient` instance

## Methods

### `authenticate`

Authenticates the current user and creates a new Knock session.

**Parameters**:

<Attributes>
  <Attribute
    name="user"
    type="UserIdentificationOptions"
    description="User identification data."
  />
  <Attribute
    name="userToken"
    type="string"
    description="JWT for the authenticated user. Not required in development environments."
  />
  <Attribute
    name="options"
    type="AuthenticateOptions"
    description="Additional options to authenticate your Knock user with."
  />
</Attributes>

**Returns**: `void`

**Example**:

```javascript
import { Knock } from "@knocklabs/client";

const knock = new Knock(process.env.KNOCK_PUBLIC_API_KEY);
knock.authenticate({ id: user.id, name: "Knock" }, user.knockUserToken);
```

### `teardown`

Tears down a current session and disconnects any connected sockets.

**Returns**: `void`
