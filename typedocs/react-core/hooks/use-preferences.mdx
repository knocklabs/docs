The `usePreferences` hook is used to fetch and manage user notification preferences. This hook provides access to preference sets and allows you to update user preferences.

## Parameters

Accepts an optional object with the following properties:

<Attributes>
  <Attribute
    name="preferenceSet"
    type="string"
    description="The preference set ID to fetch. If not provided, the default preference set will be fetched."
  />
  <Attribute
    name="tenant"
    type="string"
    description="Optional tenant ID for multi-tenant applications."
  />
</Attributes>

## Returns

Returns an object with the following properties:

<Attributes>
  <Attribute
    name="preferences"
    type="PreferenceSet | undefined"
    description="The preference set data including workflows and channels."
  />
  <Attribute
    name="setPreferences"
    type="(properties: SetPreferencesProperties) => void"
    description="Function to update user preferences."
  />
  <Attribute
    name="getAllPreferences"
    type="() => Promise<PreferenceSet[]>"
    description="Function to retrieve all preference sets for the user."
  />
  <Attribute
    name="isLoading"
    type="boolean"
    description="Whether preferences are being loaded."
  />
  <Attribute
    name="isValidating"
    type="boolean"
    description="Whether preferences are being revalidated."
  />
</Attributes>

## Example

### Basic usage

The following example demonstrates how to use the `usePreferences` hook to manage user preferences.

```tsx
import { usePreferences } from "@knocklabs/react";

const MyComponent = () => {
  const { preferences, isLoading, setPreferences } = usePreferences({
    preferenceSet: "default",
  });

  if (isLoading) return <div>Loading preferences...</div>;
  if (!preferences) return <div>No preferences found</div>;

  const handleToggleWorkflow = (workflowKey: string, enabled: boolean) => {
    setPreferences({
      workflows: {
        [workflowKey]: { enabled },
      },
    });
  };

  return (
    <div>
      <h2>Notification preferences</h2>
      {preferences.workflows.map((workflow) => (
        <div key={workflow.key}>
          <label>
            <input
              type="checkbox"
              checked={workflow.enabled}
              onChange={(e) =>
                handleToggleWorkflow(workflow.key, e.target.checked)
              }
            />
            {workflow.name}
          </label>
        </div>
      ))}
    </div>
  );
};
```

### With tenant

For multi-tenant applications, you can specify a tenant:

```tsx
const { preferences, setPreferences } = usePreferences({
  preferenceSet: "default",
  tenant: "tenant-123",
});
```

### Getting all preference sets

You can retrieve all preference sets for the user:

```tsx
const { getAllPreferences } = usePreferences();

const handleGetAll = async () => {
  const allPreferences = await getAllPreferences();
  console.log(allPreferences);
};
```
