---
title: Email layouts
description: Commands for managing email layouts in the Knock CLI.
---

<Section path="/email-layout">
<ContentColumn>

Email layout commands enable you to manage email layouts in your Knock account from the CLI.

</ContentColumn>
</Section>

<Section title="Layout file structure" path="/email-layout/file-structure">
<ContentColumn>

When email layouts are pulled from Knock, they are stored in directories named by their layout key.

{/* prettier-ignore */}
<PreTextDiagram description="Local layout files structure">
{`layouts/
├── default/
│   ├── html_layout.html
│   ├── layout.json
│   └── text_layout.txt
└── custom-layout/
    ├── html_layout.html
    ├── layout.json
    └── text_layout.txt`}
</PreTextDiagram>

If you're migrating your local layout files into Knock, you can arrange them using the example file structure above and then push them into Knock with a single command using [`knock layout push --all`](/cli/email-layout/push). Each `layout.json` file should follow the example shown below; additional information on the Layout structure is defined [here](/mapi-reference/email_layouts/schemas/email_layout).

```json title="Local layout file example JSON"
{
  "key": "custom-layout",
  "name": "Custom Layout",
  "html_layout@": "html_layout.html",
  "text_layout@": "text_layout.txt",
  "footer_links": [{ "text": "My link", "url": "https://example.com" }]
}
```

</ContentColumn>
</Section>

<Section title="knock layout list [flags]" path="/email-layout/list">
<ContentColumn>

List all email layouts in the environment. Use an `--environment` flag to specify the target environment; if omitted, the Knock CLI defaults to the development environment.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--hide-uncommitted-changes"
    type="boolean"
    description="Should any uncommitted changes be hidden? Defaults to false."
  />
  <Attribute
    name="--limit"
    type="number"
    description="The total number to fetch per page."
  />
  <Attribute
    name="--after"
    type="string"
    description="Fetches all entries after this cursor."
  />
  <Attribute
    name="--before"
    type="string"
    description="Fetches all entries before this cursor."
  />
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock layout list
```

</ExampleColumn>
</Section>

<Section title="knock layout get <layout_key> [flags]" path="/email-layout/get">
<ContentColumn>

Fetches a single email layout, using the `key` of the email layout.

Use an `--environment` flag to specify the target environment; if omitted, the Knock CLI defaults to the development environment.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--hide-uncommitted-changes"
    type="boolean"
    description="Should any uncommitted changes be hidden? Defaults to false."
  />
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Get layout"
knock layout get default
```

```bash title="Get layout in a different environment"
knock layout get default --environment=production
```

</ExampleColumn>
</Section>

<Section title="knock layout new [flags]" path="/email-layout/new">
<ContentColumn>

Create a new email layout with a minimal configuration.

The command will create a new layout directory in your local file system. By default, this will be in the layouts resource directory set by your `knock.json` file, or the current working directory if not configured.

### Flags

<Attributes>
  <Attribute
    name="--key"
    type="string"
    description="The key for the email layout. If not provided, will be prompted or inferred from the layout directory name."
  />
  <Attribute
    name="--name"
    type="string"
    description="The name for the email layout. If not provided, will be generated from the key."
  />
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--branch"
    type="string"
    description="The branch to use. Defaults to the main branch."
  />
  <Attribute
    name="--push"
    type="boolean"
    description="Push the email layout to Knock after creating it locally. Defaults to false."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Overwrites an existing layout directory without prompting for confirmation. Defaults to false."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Create a layout interactively"
knock layout new
```

```bash title="Create a layout with a specific key and name"
knock layout new --key=my-layout --name="My Layout"
```

```bash title="Create and push a layout"
knock layout new --key=my-layout --push
```

</ExampleColumn>
</Section>

<Section title="knock layout pull <layout_key> [flags]" path="/email-layout/pull">
<ContentColumn>

Pulls the contents of one or all email layouts from Knock into your local file system. Using `<layout_key>` you can pull a single email layout specified by the key, or use the `--all` flag to pull all email layouts from Knock at once.

By default this command will resolve to the email layouts resource directory via your `knock.json` file. When not set, will use the current working directory as the default. In the case of the `--all` flag, the target directory path will be resolved via your `knock.json` file or the `--email-layouts-dir` flag.

See the [Layout file structure](/cli/email-layout/file-structure) section for details on how layout files are organized.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--all"
    type="boolean"
    description={`Whether to pull all email layouts from the specified environment into the target directory path set by \`--email-layouts-dir\`. Defaults to false.

When used, all contents in the target directory will be erased and replaced with all email layouts from the specified environment.`}
/>

  <Attribute
    name="--email-layouts-dir"
    type="directory"
    description="Specifies which target directory path to pull all email layouts into. Only available to be used with --all, and defaults to the current working directory."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Pull a single email layout"
knock layout pull default
```

```bash title="Pull all email layouts"
knock layout pull --all
```

</ExampleColumn>
</Section>

<Section title="knock layout push <layout_key> [flags]" path="/email-layout/push">
<ContentColumn>

Pushes local email layouts back to Knock and upserts them. Using `<layout_key>` you can push a single email layout specified by the key, or use the `--all` flag to push all email layouts from Knock at once.

By default this command will resolve to the email layouts resource directory via your `knock.json` file. When not set, will use the current working directory as the default. In the case of the `--all` flag, the target directory path will be resolved via your `knock.json` file or the `--email-layouts-dir` flag.

See the [Layout file structure](/cli/email-layout/file-structure) section for details on how layout files are organized.

### Flags

<Attributes>
  <Attribute
    name="--commit"
    type="boolean"
    description="Push and commit at the same time. Defaults to false."
  />
  <Attribute
    name="-m, --commit-message"
    type="string"
    description="The commit message to pass when using the `--commit` flag."
  />
  <Attribute
    name="--all"
    type="boolean"
    description="Whether to push all email layouts to the target environment. Defaults to false."
  />
  <Attribute
    name="--email-layouts-dir"
    type="directory"
    description="Specifies the target directory path to find and push all email layouts from. Only available to be used with --all, and defaults to the current working directory."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Push a single email layout"
knock layout push my-layout
```

```bash title="Push all email layouts"
knock layout push --all
```

</ExampleColumn>
</Section>

<Section title="knock layout validate <layout_key> [flags]" path="/email-layout/validate">
<ContentColumn>

Validates one or more email layouts. Useful for checking if the layout is valid before running the `email_layout push` command.

The `<layout_key>` can be provided to validate a single email layout, or your can use the `--all` flag to validate all email layouts.

Can only be validated against the `development` environment.

### Flags

<Attributes>
  <Attribute
    name="--all"
    type="boolean"
    description="Whether to validate all email layouts. Defaults to false."
  />
  <Attribute
    name="--email-layouts-dir"
    type="directory"
    description="Specifies the target directory path to find and validate all email layouts from. Only available to be used with --all, and defaults to the current working directory."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock layout validate --all
```

```bash title="Validate a single email layout"
knock layout validate default
```

</ExampleColumn>
</Section>
