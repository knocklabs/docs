---
title: Commits
description: Commands for managing commits in the Knock CLI.
---

<Section path="/commit">
<ContentColumn>

Commit commands enable you to manage commits in your Knock account from the CLI.

</ContentColumn>
</Section>

<Section title="knock commit list [flags]" path="/commit/list">
<ContentColumn>

List all commits in the environment. Use an `--environment` flag to specify the target environment; if omitted, the Knock CLI defaults to the development environment.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--[no-]promoted"
    type="boolean"
    description="Show only promoted or unpromoted changes between the given environment and the subsequent environment."
  />
  <Attribute
    name="--limit"
    type="number"
    description="The total number to fetch per page."
  />
  <Attribute
    name="--after"
    type="string"
    description="Fetches all entries after this cursor."
  />
  <Attribute
    name="--before"
    type="string"
    description="Fetches all entries before this cursor."
  />
  <Attribute
    name="--resource-type"
    type="string"
    description="Filter commits by resource type. One of: `email_layout`, `workflow`, `guide`, `partial`, `translation`. Must be used with --resource-id."
  />
  <Attribute
    name="--resource-id"
    type="string"
    description="Filter commits by the given resource id. This is most typically the `key` of the resource. In the case of translations, this will be the locale code and namespace, separated by a `/`. Must be used with --resource-type."
  />
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock commit list
```

```bash title="List unpromoted commits in a different environment"
knock commit list --no-promoted --environment=staging
```

```bash title="List commits for a specific workflow"
knock commit list --resource-type=workflow --resource-id=new-commet
```

</ExampleColumn>
</Section>

<Section title="knock commit get <commit_id> [flags]" path="/commit/get">
<ContentColumn>

Shows the details of a given commit, using the `id` of the commit.

### Flags

<Attributes>
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock commit get 69cdde18-830a-42e0-ad4b-a230943bdc90
```

</ExampleColumn>
</Section>

<Section title="knock commit [flags]" path="/commit/all">
<ContentColumn>

You can commit all changes across all resources in the development environment with the commit command.

### Flags

<Attributes>
  <Attribute
    name="-m, --commit-message"
    type="string"
    description="The commit message to use for all changes."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Removes the confirmation prompt. Defaults to false."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock commit -m "Commit message"
```

</ExampleColumn>
</Section>

<Section title="knock commit promote [flags]" path="/commit/promote">
<ContentColumn>

You can promote one change to the subsequent environment, or all changes across all resources to the target environment from its directly preceding environment, using the `commit promote` command.

Note:

- For example, if you have three environments "development", "staging", and "production" (in that order), setting the `--to` flag to `production` will promote all new changes from the staging environment to the production environment.
- Promoting one single commit from staging using the `--only` flag, will result in that commit being promoted to production.
- The `--to` environment must be a non-development environment.
- The `--to` and `--only` flags can't be used together.

### Flags

<Attributes>
  <Attribute
    name="--to"
    type="string"
    description="The destination environment."
  />
  <Attribute
    name="--only"
    type="string"
    description="The target commit id to promote to the subsequent environment."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Removes the confirmation prompt. Defaults to false."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Promotes all changes"
knock commit promote --to=production
```

```bash title="Promotes one change"
knock commit promote --only=69cdde18-830a-42e0-ad4b-a230943bdc90
```

</ExampleColumn>
</Section>
