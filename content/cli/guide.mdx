---
title: Guides
description: Commands for managing guides in the Knock CLI.
---

<Section path="/guide">
<ContentColumn>

Guide commands enable you to manage guides in your Knock account from the CLI.

</ContentColumn>
</Section>

<Section title="Guide file structure" path="/guide/file-structure">
<ContentColumn>

When guides are pulled from Knock, they are stored in directories named by their guide key. Each guide directory contains a `guide.json` file that describes the guide's configuration.

{/* prettier-ignore */}
<PreTextDiagram description="Local guide files structure">
{`guides/
└── conference-banner/
    └── guide.json`}
</PreTextDiagram>

If you're migrating your local guide files into Knock, you can arrange them using the example file structure above and then push them into Knock with a single command using [`knock guide push --all`](/cli/guide/push).

</ContentColumn>
</Section>

<Section title="knock guide list [flags]" path="/guide/list">
<ContentColumn>

You can see all your existing guides in a given environment with the guide list command.

Use an `--environment` flag to specify the target environment; if omitted, the Knock CLI defaults to the development environment.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--hide-uncommitted-changes"
    type="boolean"
    description="Should any uncommitted changes be hidden? Defaults to false."
  />
  <Attribute
    name="--limit"
    type="number"
    description="The total number to fetch per page."
  />
  <Attribute
    name="--after"
    type="string"
    description="Fetches all entries after this cursor."
  />
  <Attribute
    name="--before"
    type="string"
    description="Fetches all entries before this cursor."
  />
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide list
```

```bash title="Pagination example"
knock guide list --after=xxx
```

</ExampleColumn>
</Section>

<Section title="knock guide new [flags]" path="/guide/new">
<ContentColumn>

Create a new guide with a minimal configuration.

The command will create a new guide directory in your local file system. By default, this will be in the guides resource directory set by your `knock.json` file, or the current working directory if not configured.

### Flags

<Attributes>
  <Attribute
    name="--key"
    type="string"
    description="The key for the guide. If not provided, will be prompted or inferred from the guide directory name."
  />
  <Attribute
    name="--name"
    type="string"
    description="The name for the guide. If not provided, will be generated from the key."
  />
  <Attribute
    name="--message-type"
    type="string"
    description="The key of the message type to use for the guide. If not provided, you will be prompted to select a message type interactively."
  />
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--branch"
    type="string"
    description="The branch to use. Defaults to the main branch."
  />
  <Attribute
    name="--push"
    type="boolean"
    description="Push the guide to Knock after creating it locally. Defaults to false."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Overwrites an existing guide directory without prompting for confirmation. Defaults to false."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Create a guide interactively"
knock guide new
```

```bash title="Create a guide with a message type"
knock guide new --key=my-guide --message-type=banner
```

```bash title="Create and push a guide"
knock guide new --key=my-guide --message-type=modal --push
```

</ExampleColumn>
</Section>

<Section title="knock guide get [flags]" path="/guide/get">
<ContentColumn>

You can show more details about a given guide with the `guide get` command, followed by the target guide key.

Use an `--environment` flag to specify the target environment; if omitted, the Knock CLI defaults to the development environment.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--hide-uncommitted-changes"
    type="boolean"
    description="Should any uncommitted changes be hidden? Defaults to false."
  />
  <Attribute name="--json" type="string" description="Format output as json." />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide get my-guide
```

```bash title="Get guide in a different environment"
knock guide get my-guide --environment=production
```

</ExampleColumn>
</Section>

<Section title="knock guide pull [flags]" path="/guide/pull">
<ContentColumn>

You can pull and download guides from Knock to a local file system with the `guide pull` command. Knock CLI will create a new guide directory or update the existing guide directory in the local file system.

By default this command will resolve to the guides resource directory via your `knock.json` file. When not set, will use the current working directory as the default. In the case of the `--all` flag, the target directory path will be resolved via your `knock.json` file or the `--guides-dir` flag.

Note: if pulling the target guide for the first time (or all guides), Knock CLI will ask to confirm before writing to the local file system.

See the [Guide file structure](/cli/guide/file-structure) section for details on how guide files are organized.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    description="The environment to use. Defaults to development."
  />
  <Attribute
    name="--all"
    type="boolean"
    description={`Whether to pull all guides from the specified environment into the target directory path set by \`--guides-dir\`. Defaults to false.

When used, all contents in the target directory will be erased and replaced with all guides from the specified environment.`}
/>

  <Attribute
    name="--guides-dir"
    type="directory"
    description="Specifies which target directory path to pull all guides into. Only available to be used with --all, and defaults to the current working directory."
  />
  <Attribute
    name="--hide-uncommitted-changes"
    type="boolean"
    description="Should any uncommitted changes be hidden? Defaults to false."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Removes the confirmation prompt. Defaults to false."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide pull my-guide
```

```bash title="Pulling a guide in a different environment"
knock guide pull my-guide --environment=production
```

```bash title="Pulling all guides into ./guides directory"
knock guide pull --all --guides-dir=./guides
```

</ExampleColumn>
</Section>

<Section title="knock guide push [flags]" path="/guide/push">
<ContentColumn>

You can push and upload a guide directory to Knock with the `guide push` command. Knock will update an existing guide by the matching guide key, or create a new guide if it does not exist yet.

By default this command will resolve to the guides resource directory via your `knock.json` file. When not set, will use the current working directory as the default. In the case of the `--all` flag, the target directory path will be resolved via your `knock.json` file or the `--guides-dir` flag.

Note:

- The `guide push` command only pushes guides into the `development` environment.
- You must be directly above the target guide directory when running the `guide push` command, so the CLI can locate the `guide.json` file.
- You can also pass in the `--commit` flag (with an optional `--commit-message` flag) to commit the upserted changes immediately.

See the [Guide file structure](/cli/guide/file-structure) section for details on how guide files are organized.

### Flags

<Attributes>
  <Attribute
    name="--commit"
    type="boolean"
    description="Push and commit the guide(s) at the same time. Defaults to false."
  />
  <Attribute
    name="-m, --commit-message"
    type="string"
    description="The commit message to pass when using the `--commit` flag."
  />
  <Attribute
    name="--all"
    type="boolean"
    description="Whether to push all guides from the target directory path set by `--guides-dir`. Defaults to false."
  />
  <Attribute
    name="--guides-dir"
    type="directory"
    description="Specifies the target directory path to find and push all guides from. Only available to be used with --all, and defaults to the current working directory."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide push my-guide
```

```bash title="Pushing a guide and committing with a message"
knock guide push my-guide \
  --commit \
  -m "Commit message"
```

```bash title="Pushing all guides from ./guides directory"
knock guide push --all --guides-dir=./guides
```

</ExampleColumn>
</Section>

<Section title="knock guide validate [flags]" path="/guide/validate">
<ContentColumn>

You can validate a new or updated guide directory with the `guide validate` command. Knock will validate the given guide payload in the same way as it would with the `guide push` command, except without persisting those changes.

Note: Validating a guide is only done against the `development` environment.

### Flags

<Attributes>
  <Attribute
    name="--all"
    type="boolean"
    description="Whether to validate all guides from the target directory path set by `--guides-dir`. Defaults to false."
  />
  <Attribute
    name="--guides-dir"
    type="directory"
    description="Specifies the target directory path to find and validate all guides from. Only available to be used with --all, and defaults to the current working directory."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide validate my-guide
```

</ExampleColumn>
</Section>

<Section title="knock guide activate [flags]" path="/guide/activate">
<ContentColumn>

You can activate or deactivate a guide in a given environment with the `guide activate` command. You can either set the active status immediately or schedule it.

### Flags

<Attributes>
  <Attribute
    name="--environment"
    type="string"
    isRequired
    description="The environment to activate the guide in."
  />
  <Attribute
    name="--force"
    type="boolean"
    description="Removes the confirmation prompt. Defaults to false."
  />
  <Attribute
    name="--status"
    type="boolean"
    description="The status to set. Cannot be used with --from/--until."
  />
  <Attribute
    name="--from"
    type="utc_datetime"
    description="Activate the guide from this ISO8601 UTC datetime (e.g., '2024-01-15T10:30:00Z')."
  />
  <Attribute
    name="--until"
    type="utc_datetime"
    description="Deactivate the guide at this ISO8601 UTC datetime (e.g., '2024-01-15T10:30:00Z')."
  />
</Attributes>

</ContentColumn>
<ExampleColumn>

```bash title="Basic usage"
knock guide activate my-guide \
  --environment=development
```

```bash title="Deactivating a guide"
knock guide activate my-guide \
  --environment=development \
  --status=false
```

</ExampleColumn>
</Section>
