---
title: "Referencing data in templates"
description: Documentation outlining how to work with data in your templates.
tags: ["liquid", "template", "objects", "users", "tenants", "subscriptions"]
section: Working with templates
---

In addition to the [variables](/template-editor/variables) available as part of the workflow run scope, you can also reference data from the users, objects, tenants, and subscriptions that exist within your Knock environment.

Referencing data is a powerful way to share context across entities in your templates without needing to manually pass the data in the `data` argument of your workflow trigger.

<Callout
  emoji="ðŸ’¡"
  title="Dynamic data filters"
  text={
    <>
      The <code>user</code>, <code>object</code>, <code>tenant</code>, and{" "}
      <code>subscriptions</code> filters all dynamically load data from your
      Knock environment at render time. You can find a full reference of these
      filters in the{" "}
      <a href="/template-editor/reference-liquid-helpers#dynamic-data-filters">
        liquid helpers reference
      </a>
      .
    </>
  }
/>

## Referencing users via the `user` filter

To reference a user, you can use the `user` filter. This will return a serialized `User`, which you can then use to output data in your template.

Users returned will have all custom properties available, as well as the `id`, `name`, `email`, `phone_number`, `created_at`, and `updated_at` properties.

```liquid title="Referencing a user via a static identifier"
{% assign user = "chris" | user %}
```

 <br />
 
```liquid title="Referencing a user via a dynamic identifier"
{% assign user = data.other_user_id | user %}
```

## Referencing objects via the `object` filter

To reference an object, you can use the `object` filter. This will return a serialized `Object`, which you can then use to output data in your template. When referencing an object, you'll also need to specify the `collection` of the object you're loading.

Objects returned will have all custom properties available, as well as the `id`, `collection`, `created_at`, and `updated_at` properties. Read more about [working with objects](/concepts/objects).

```liquid title="Referencing an object in the 'projects' collection via a static identifier"
{% assign project = "proj_1" | object: "projects" %}
```

 <br />
 
```liquid title="Referencing an object in the 'projects' collection via a dynamic identifier"
{% assign project = data.project_id | object: "projects" %}
```

<Callout
  type="warning"
  title="Note:"
  text={
    <>
      If you're looking to reference the parent object that the recipient is
      subscribed to when they are notified via a{" "}
      <a href="/concepts/subscriptions">subscription</a>, you can use the{" "}
      <code>recipient.subscription.object</code> property.
    </>
  }
/>

## Referencing tenants via the `tenant` filter

To reference a tenant, you can use the `tenant` filter. This will return a serialized `Tenant`, which you can then use to output data in your template.

Tenants returned will have all custom properties available, as well as the `id`, `created_at`, and `updated_at` properties. Read more about [working with tenants](/concepts/tenants).

```liquid title="Referencing a tenant via a static identifier"
{% assign tenant = "acme" | tenant %}
```

 <br />
 
```liquid title="Referencing a tenant via a dynamic identifier"
{% assign tenant = data.other_tenant_id | tenant %}
```

## Referencing subscriptions via the `subscriptions` filter

To reference the subscriptions for a user, you can use the `subscriptions` filter. This filter loads up to 25 active subscriptions for the given user and returns a list of serialized subscription objects.

Each subscription returned includes the `object` the user is subscribed to, along with any custom `properties` set on the subscription. You can iterate over the results to render subscription-specific content in your templates.

```liquid title="Loading subscriptions for the current recipient"
{% assign subs = recipient.id | subscriptions %}
{% for sub in subs %}
  {{ sub.object.id }} - {{ sub.properties.role }}
{% endfor %}
```

<br />

```liquid title="Loading subscriptions for a user via a dynamic identifier"
{% assign subs = data.user_id | subscriptions %}
{% for sub in subs %}
  {{ sub.object.id }}
{% endfor %}
```

<Callout
  emoji="ðŸ’¡"
  title="Note"
  text="The subscriptions filter returns a maximum of 25 subscriptions per user. If a user has more than 25 subscriptions, only the first 25 are returned."
/>

## Frequently asked questions

<AccordionGroup>
  <Accordion title="What happens if I reference a user, object, or tenant that doesn't exist?">
    If you reference a user, object, or tenant that doesn't exist, the value will be `null` in your template. Trying to use it to output data will return an empty string.

    If you want to conditionally display data based on whether a user, object, or tenant exists, you can do so using Liquid's `if` statement.

  </Accordion>
  <Accordion title="How can I ensure that only certain users, objects, or tenants are available in my template?">
    Knock cannot constrain the entities that are available in your template based on the recipient of the workflow run or the tenant passed in. It is your responsibility to ensure that any entities loaded as part of executing a template are accessible to the recipient.
  </Accordion>
</AccordionGroup>
