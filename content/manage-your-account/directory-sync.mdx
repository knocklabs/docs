---
title: Directory sync (SCIM)
description: How to configure directory sync on your account.
tags: ["authentication", "directory sync", "SCIM", "ULM"]
section: Manage your account
---

<Callout
  emoji="âœ¨"
  text={
    <>
      <span className="font-bold">Enterprise plan feature.</span> Directory sync
      is only available on our{" "}
      <a href="https://knock.app/pricing">Enterprise plan.</a>
    </>
  }
/>

## Overview

Directory sync allows you to automatically provision users and manage their permissions in Knock by leveraging the identity provider your organization is using (e.g. Okta) as the single authorative source for user and group information.

Once configured, it enables automated syncing of user identity information from identity providers to Knock using SCIM (System for Cross-domain Identity Management), an open standard for managing automated user and group provisioning.

Any users that are assigned in the Knock application in your identity provider will be created in Knock (or vice versa), with their roles and permissions automatically configured based on their group memberships (see the default group to [role mapping](/manage-your-account/directory-sync#role-mapping) for more details).

## Directory sync configuration

To configure directory sync, please contact the [Knock support team](mailto:support@knock.app) for the following information which you will need to provide to your identity provider:

- An endpoint for an identity provider will make requests to.
- A bearer Token to authenticate its endpoint requests.

![Configure directory sync](/images/configure-directory-sync.png)

Many of the common identity providers are supported. See below for detailed step-by-step guides for your identity provider:

- [CyberArk](https://workos.com/docs/integrations/cyberark-scim/2-select-or-create-your-cyberark-application)
- [Entra ID (formerly Azure AD)](https://workos.com/docs/integrations/entra-id-scim/2-select-or-create-your-azure-application)
- [JumpCloud](https://workos.com/docs/integrations/jumpcloud-scim/2-select-or-create-your-jumpcloud-application)
- [Okta](https://workos.com/docs/integrations/okta-scim/2-select-or-create-your-okta-application)
- [OneLogin](https://workos.com/docs/integrations/onelogin-scim/2-select-or-create-your-onelogin-application)
- [PingFederate](https://workos.com/docs/integrations/pingfederate-scim/2-install-the-scim-connector-in-pingfederate)
- [Rippling](https://workos.com/docs/integrations/rippling-scim/2-create-your-rippling-application)

Once user identity data from your identity provider starts syncing to Knock successfully, you will see the "connected" status for directory sync under Settings > General.

## Role mapping

Knock uses the following default group to role mapping to automatically allocate the roles to users in that group.

If a user does not belong to any group, Knock will assign the **support** role to the user. If a user belongs to more than one of these groups, then Knock will assign the **highest privileged role available** to that user (see [roles and permissions](/manage-your-account/roles-and-permissions) for more details).

| Group name         | Role    |
| ------------------ | ------- |
| knock-role-owner   | owner   |
| knock-role-admin   | admin   |
| knock-role-member  | member  |
| knock-role-billing | billing |
| knock-role-support | support |

## Frequently asked questions

<AccordionGroup>
  <Accordion title="What happens to existing users when directory sync is enabled?">
    Knock will identify existing users based on their email, and update (i.e. overwrite) their access and roles based on the user data synced from your identity provider.

    Any users that exist in Knock but not in identity providers will retain access to Knock and retain its role originally assigned to them.

  </Accordion>
  <Accordion title="What happens to existing users when directory sync gets disabled?">
    If directory sync connection becomes disabled, all users and roles will be left in the state at the time of disconnection and stop syncing from your identity provider.
  </Accordion>
  <Accordion title="Can I use a custom group to role mapping for assigning roles in Knock?">
    Yes, please contact the [Knock support team](mailto:support@knock.app) to configure a custom mapping. Note, however, you cannot override Knock's default role mapping.
  </Accordion>
</AccordionGroup>
