---
title: Client integration
description: A client integration guide for Knock preferences.
tags: ["object preferences", "preferences"]
section: Preferences
---

The preferences API can also be invoked from the client, provided you have authenticated a user first and have a valid API token.

**Note**: at this time only the current user's preferences can be retrieved or updated.

## Retrieve the preferences for the current user

```javascript title="Get preferences"
import Knock from "@knocklabs/client";
const knockClient = new Knock("sk_12345");

knockClient.authenticate(currentUser.id, currentUser.knockToken);

// Retrieves the `PreferenceSet` for the user given
const preferences = await knockClient.preferences.get();
```

## Set the preferences for the current user

```javascript title="Setting preferences"
import Knock from "@knocklabs/client";
const knockClient = new Knock("sk_12345");

knockClient.authenticate(currentUser.id, currentUser.knockToken);

// Set the entire preference object
await knockClient.preferences.set({
  channel_types: {
    email: true,
  },
  workflows: {
    "dinosaurs-loose": {
      channel_types: {
        email: false,
        in_app_feed: true,
        sms: true,
      },
    },
  },
});

// Update an individual channel type
await knockClient.preferences.setChannelType("email", true);

// Update an individual workflow
await knockClient.preferences.setWorkflow("dinosaurs-loose", {
  channel_types: { email: true },
});
```

<br />

<Callout
  mt={4}
  emoji="👩‍💻"
  text={
    <>
      <span className="font-bold">See an example.</span> Check out our example
      app for real examples of{" "}
      <a href="https://github.com/knocklabs/knock-node-example-app/blob/main/app/users/components/NotificationPreferencesModal.tsx#L42">
        getting
      </a>{" "}
      and{" "}
      <a href="https://github.com/knocklabs/knock-node-example-app/blob/main/app/users/components/NotificationPreferencesModal.tsx#L93">
        setting
      </a>{" "}
      preferences using our client library.
    </>
  }
/>
