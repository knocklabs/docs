---
title: Audiences
description: Learn how to use Audiences to power your lifecycle marketing use cases.
tags:
  [
    "segmentation",
    "user segmentation",
    "lifecycle",
    "marketing",
    "transactional",
    "audience",
    "groups",
    "segments",
    "cohorts",
  ]
section: Concepts
---

An Audience is a user segment that you can use to target users for [workflows](/concepts/workflows), [guides](/in-app-ui/guides/overview), and [broadcasts](/concepts/broadcasts). Once you start creating audiences in Knock, you can use them to:

- trigger workflows for lifecycle messaging (such as new user signups) and transactional messaging (such as payment method updates)
- orchestrate branch and conditional logic within your workflows using audience membership (e.g. if a user is in a `paid users` audience, opt them out of the workflow)
- target users for an [in-app guide](https://docs.knock.app/in-app-ui/guides/overview)
- send a one-time message to a specific audience with a [broadcast](/concepts/broadcasts)

## Audience types

<Callout
  type="beta"
  title="Note:"
  text={
    <>
      Dynamic audiences are currently in beta. If you'd like early access, or
      this is blocking your adoption of Knock, please{" "}
      <a href="mailto:support@knock.app?subject=Dynamic audiences beta access">
        get in touch
      </a>
      .
    </>
  }
/>

There are two types of audiences in Knock:

- **Static audiences.** Static audiences are created by manually adding users, either via a reverse ETL source such as Hightouch or Census, a CSV upload, the API, or manually in the Knock dashboard.
- **Dynamic audiences.** Dynamic audiences are created through building a set of query rules on top of the [user data in Knock](/concepts/recipients).

## Creating an audience

Navigate to the **Audiences** page under the **Recipients** section on the Knock dashboard’s sidebar, then click “Create Audience” in the top right corner.

When creating an audience, you must choose between a static or dynamic audience. You cannot change the type of audience after it has been created.

### Using audiences across environments

When you create an audience, regardless of the type, it will be created in the [environment where you create it](/concepts/environments). You can then use the audience in any environment by promoting it to the environment you want to use it in. [Learn more about environments.](/concepts/environments)

Changes to an audience, like other Knock resources, are [versioned](/version-control/commits) and [promoted](/version-control/commits#promoting-commits) to environments.

## Using audiences with workflows

### Triggering workflows

Workflows can be configured to trigger for every new member added to an audience.

Create or open the workflow you’d like to trigger for your audience, then open the workflow editor. Click on the “Trigger” step, then click “Edit trigger type” in the top right corner. Click “Audience“ and then select the audience you’d like this workflow to trigger from.

<Image
  src="/images/concepts/audiences/audience-trigger-type-config.png"
  height={1846}
  width={1330}
  alt="Audience trigger type config in the workflow editor"
  className="rounded-md border border-gray-200"
/>

Commit your workflow to development, and when you’re ready promote it to production. At this point, every time a user is added to the selected audience a workflow will be triggered with that user as a recipient.

<Callout
  type="info"
  title="Remember: audiences are environment scoped."
  isCentered
  text={
    <>
      This means the workflow will run in the environment where the user was
      added to the audience. If you use a production API key to add users to an
      audience in production, your workflow will trigger in the production
      environment.{" "}
      <a href="/concepts/environments">Learn more about environments.</a>
    </>
  }
/>

### Audience conditions

Audience membership can be checked in [branch](/designing-workflows/branch-function#adding-conditions-to-branches) and [step conditions](/designing-workflows/step-conditions). Create a condition, then select “Audience membership” as the type. When the condition is evaluated during workflow execution it will check if the recipient is a member of the selected audience.

<Image
  src="/images/concepts/audiences/condition-config.png"
  alt="Audience condition type config in the workflow editor"
  width={500}
  height={334}
  className="rounded-md mx-auto border border-gray-200"
/>

## Building a dynamic audience

<Callout
  type="beta"
  title="Note:"
  text={
    <>
      Dynamic audiences are currently in beta. If you'd like early access, or
      this is blocking your adoption of Knock, please{" "}
      <a href="mailto:support@knock.app?subject=Dynamic audiences beta access">
        get in touch
      </a>
      .
    </>
  }
/>

Dynamic audiences are built by creating a set of query rules on top of the [user data in Knock](/concepts/recipients), expressed as [conditions](/concepts/conditions). You can build dynamic audiences using any of the properties available on your user objects.

Knock will automatically update the dynamic audience in real-time as the [user data](/managing-recipients/identifying-recipients) in Knock changes, moving users in and out of the audience as their properties change. These changes are known as "membership events" and are used to trigger workflows.

When building a dynamic audience, you will see a real-time preview of the audience members that match the query rules you've created on the right side of the screen. Remember, these are **users in the current environment** that match the query rules you've created.

All changes to the dynamic audience are [versioned](/version-control/commits) and [promoted](/version-control/commits#promoting-commits) to environments. As soon as your changes are commited or promoted, the dynamic audience will be updated in the environment and user membership will be evaluated in real-time.

## Populating a static audience

Before populating your static audience ensure that your user data has been [identified in Knock](/managing-recipients/identifying-recipients) and that you’yve configured and promoted any workflows you want to trigger with the Audience.

### Supported reverse ETL vendors

Audiences can easily be synced from Hightouch Models and Census Segments by configuring Knock as a sync destination. Please reach out to support@knock.app for beta access to our rETL integrations with Hightouch and Census.

### Audiences API

The Knock API can be used to sync audiences from any data warehouse or reverse ETL system. Create the audience in the Knock dashboard, then use the add and remove API operations to power your sync.

The API is designed for batch processing and accepts payloads of up to 1,000 members at a time. For more information see the [audiences API docs](/api-reference/audiences).

### CSV upload

You can upload a CSV of users to an audience. After uploading your CSV, you can map the CSV fields to the corresponding user fields in Knock. Knock will upsert the users as they are added to the audience and skip any users with malformed or missing IDs.

Note: The maximum size of a CSV upload is capped at 10MB.

### Manually

You can manually add existing users to an audience.

## Using audiences with tenants

<Callout
  type="info"
  title="Note:"
  text="Tenant targeting is currently only supported for static audiences."
/>

When adding users to an audience you can optionally include a tenant ID to power per-user, per-tenant workflows. A user can exist in an audience with multiple distinct tenants.

<Image
  src="/images/concepts/audiences/audience-member-with-multiple-tenant-ids.png"
  alt="An audience member with multiple distinct tenant ids"
  width={1710}
  height={550}
  className="rounded-md border border-gray-200"
/>

When a workflow triggers from an audience entry event, the tenant ID provided for the member will be passed along to the workflow trigger. If no tenant ID is provided in the API request, the workflow will run with no tenant data. If the same user is added with multiple distinct tenants, the workflow will trigger each time by default. To configure this behavior use [trigger frequency](/send-notifications/triggering-workflows#controlling-workflow-trigger-frequency) controls.

Tenancy is also taken into account when checking audience membership. For a recipient to be considered a member of an audience during workflow execution, the tenant ID provided with the trigger data must match the user’s audience membership record. If no tenant ID was provided with the trigger, the user must have been added to the audience with no tenant ID.

## Frequently asked questions

<AccordionGroup>
  <Accordion title="What happens if my audience contains a 'missing user' who I subsequently identify to Knock?">
    If you add a user to an Audience who has not yet been identified to Knock, they will be indicated as a "missing user" in the audience. If you subsequently identify a user with the missing `user_id`, they will be a member of the audience and no longer "missing."

    However, Knock will not retroactively trigger any audience-entry triggered workflows for users that are identified after being added to the audience.

  </Accordion>
  <Accordion title="Can I create a dynamic audience from user data in Knock?">
    Yes, you can create a dynamic audience by querying the user data in Knock. Learn more about [building a dynamic audience](/concepts/audiences#building-a-dynamic-audience).
  </Accordion>
  <Accordion title="Can I use source event data to build a dynamic audience?">
    No, currently you cannot use [source event data](/integrations/sources/overview) to build a dynamic audience. We will be adding this capability in the future. Please [get in touch](mailto:support@knock.app) if you have a specific use case for this functionality.
  </Accordion>
  <Accordion title="Can I use tenant or other object data to build a dynamic audience?">
    No, you can currently only build dynamic audiences using user data in Knock. We will be adding support for other object data in the future, including the ability to build a list of users based on their relationship to other objects in your system (like tenants). Please [get in touch](mailto:support@knock.app) if you have a specific use case for this functionality.
  </Accordion>
  <Accordion title="How quickly are dynamic audiences updated?">
    Dynamic audiences are updated in real-time. Any changes to the user data in Knock will be reflected in the dynamic audience immediately. That means if you have a property `plan_type` on the user object, and you build a dynamic audience for users on the `pro` plan, setting the `plan_type` to `pro` will immediately add the user to the dynamic audience.
  </Accordion>
  <Accordion title="Can I use audiences on a branch?">
    While you can use an audience on a [branch](/version-control/branches) to power workflows, broadcasts, and guides, you cannot make changes to an audience on a branch. You can only make changes to an audience on the main branch.
  </Accordion>
</AccordionGroup>
